===== Dos Navigator /2  Что нового?..  =======================================

  [!] Коротко о главном
  [+] Hовое
  [-] Ошибка исправлена
  [*] Ошибка исправлена и/или изменено к лучшему


   Версия 1.51.10b6
  ---------------------------------------------------------------------


Oleg Antoshkiv:

[+] В калькулятор добавлена бинарная операция ':' (двоеточие) для удобства
    расчетов единиц времени например А:B эквивалентно A*60+B


Victor Klochko:

[+] Добавлены украинские языковые ресурсы
[-] Грамматические исправления в русских ресурсах


Alexey Korop:

[-] Обращение к истории каталогов очищало комстроку
[-] При MaxClipboardSize=0 DN зависал при копировании в буфер
[*] стало более естественным поведение просмотра при обратной прокрутке
    файла без переводов строк
[-] Если имя архива содержало 'плохие' символы (например, '&'), то под
    OS/2 и Win NT не работало извлечение (F4) и иногда просмотр (F3)
[*] Теперь при переносе мышкой на строку дисков логика такая же, как
   и при переносе на панель: c Ctr, Alt или Ctrl - move, иначе copy
[-] DN работал некорректно и обычно вcкоре падал, если перенести мышкой
   файлы на строку дисков на неготовый диск
[-] В файле описаний Tab не допускался как разделитель имени и описания
[-] Под Win32 при включенном различении правого и левого Ctrl смена диска
    при помощи Ctrl-Left, Ctrl-Right работала неправильно
[-] Под Win2000 и WinXP DN падал при запуске в окне с дефолтным размером
    буфера (300 строк). Теперь он устанавливает в этом случае 25 строк
[-] DN падал при переполнении в калькуляторе, например, exp(10000)
[-] Если во время быстрого поиска сделать одиночный щелчок мышью на полосе
    дисков другой панели на букве текущего диска другой панели, то в
    подвале другой панели выводится маска быстрого поиска с мусором
[-] Под Win NT при копировании через буфер обмена между DN и IDE Delphi
    или MS VC (а также сделанными с их помощью программами) неправильно
    перекодировались русские буквы и некоторые спецсимволы, например,
    номер ('№')
[-]  Выпрямление копирования файлов на устройство
[-] Под Win32 не по Ctrl-W не открывалась папка на рабочем столе, если
    в её имени были русские буквы
[*] Оптимизированы перекодировки OEM <-> ANSI


Aleksej Kozlov:

[!] В OS/2 и Win32 версии добавлено отслеживание изменений файловой системы
    и соответствующее автоматическое обновление панелей -
    включается/выключается настройкой AutoRefreshPanels в
    INI-файле. Способ слежения за изменениями в OS/2 версии достаточно
    странный, поэтому работоспособность не гарантируется
[!] Вся структура плагинов в плагинной версии переделана заново, без
    использования DN2CAT.DLL; старые плагины теперь использовать без
    перекомпиляции невозможно
[*] Теперь для получения размера диска и размера свободного места на диске
    там, где это возможно, используется функция GetDiskFreeSpaceExA. Это
    нужно для устранения проблемы с неправильным показом этих параметров под
    Win9x (раньше если размер диска или размер свободного места на диске
    превышал 2Г, то он показывался равным 2Г)


Jaroslaw Osadtchiy:


[-] Под системами, в которых отсутствует Video Device Handler (bvhvga.dll или
    аналогичная dll), наример при загрузке OS/2 с дискеты, OS/2 версия DN/2
    падала при попытке установить видеорежим отличный от 80x25
[*] Теперь при разархивировании файлов из архива распаковщику подставляется
    длинное или короткое имя архива в зависимости от параметра "Использовать
    длинные имена" ("Use long file names") в установках архиватора
[-] в информационной панели (вызываемой по Ctrl-L) в информации об архиве при
    использовании украинских ресурсов распакованный объём показывался
    неправильно
[*] Теперь в настройках архиватора RAR в строке ввода "Распаковщик" можно
    указать два распаковщика, разделённых символом ";" . В этом случае первый
    из них будет использоваться для распаковки архивов версии 2.0 и ниже,
    второй - архивов версии 2.90 и выше
[*] Если в текущей панели отображается архив типа RAR или ACE, то в
    информационной панели (вызываемой по Ctrl-L) в информации об архиве
    отображается необходимая версия распаковщика
[-] После диалога настроек мыши появлялся отладочный диалог с циферками
[-] При QuickSearchType=0 в dn.ini во время быстрого поиска файлов в панели
    если курсор стоял в первой позиции в имени файла, то нажатие BackSpace
    приводило к странным эффектам
[-] Теперь проверка на необходимость обновления панелей при
    AutoRefreshPanels=1 в dn.ini совершается с частотой в одну секунду,
    а не при каждом цикле
[*] Ключ "Ускоренно" (-y) для RAR не был задан в настройках по умолчанию
[-] После просмотра файлов в архивах временные файлы часто не удалялись.
[*] Добавлен новый параметр файла dn.ini - EscForOutputWindow: Boolean
    Когда установлено значение 0, нажатие Esc в файловой панели аналогично
    нажатию Alt-F5 (Экран Дос, User screen), когда установлено 1 - аналогично
    нажатию Ctrl-O (Окно вывода, Output window)
[-] При вызове консольных программ (например, архиваторов) без командного
    процессора или с "неправильным" командным процессором (например, 4OS2)
    внешние программы не видели ввода с клавиатуры
[*] В настройки архиваторов добавлена дополнительная настройка "Путь внутри
    архива" (Set path inside), позволяющая задать внутренний путь внутри
    архива - полезно для корректных действий с файлами, находящимися в
    подкаталогах внутри архива)
[*] Изменён дизайн диалога настроек архиватора
[-] При включенной опции "Текcтовый буфеp системы" (Use system clipboard) при
    копировании строки в буфер в него попадал только кусок строки до первого
    символа #0 (нуль);
[*] При копировании в буфер символы #0 (нуль) теперь перекодируются в #32
    (пробелы) только при включенной опции "Текcтовый буфеp системы"
[-] При быстром переименовании файла по Alt-F6 или Shift-Alt-F6 описание файла
    терялось
[-] Ползунок линейки прокрутки во вьюере не работал нормально при просмотре
    очень больших файлов
[*] В связи с поддержкой длинных (> 255 символов) строк редактором ставший
    ненужным параметр dn.ini RecombineLongLines ликвидирован
[*] Не использующиеся параметры файла dn.ini (FadeDelay, UseLFN, DoVESATest)
    ликвидированы;
[+] Теперь при установке аттрибутов файла можно изменять не только время
    последней модификации, но и время создания и последнего доступа файла
[*] Добавлена новая переменная файла DN.INI в секции [Editor] -
    F6_DuplicatesLine (булевская), изменяющая поведение клавиши F6 в
    редакторе: когда её значение установлено 0 , клавиша F6 переключает
    состояние опции "Оптимизация пробелов", когда 1 - клавиша F6 удваивает
    текущую строку.
[*] Переделан алгоритм разбиения командной строки на несколько при
    разархивировании файлов архиваторами, не поддерживающими работу с
    файлом-списком; теперь комстрока разбивается корректно независимо от
    наличия подкаталогов в архиве и между запусками архиватора не производится
    открытие файловых панелей;
[*] Теперь при архивировании файлов архиваторами, не поддерживающими работу с
    файлом-списком слишком длинная командная строка разбивается на несколько
    также, как при разархивировании;
[-] в Win32 версии сортировка по расширению короткого имени файла работала
    неправильно
[-] В диалоге установок текущей панели, вызываемом по Alt-К можно было ввести
    только двузначное число в строку ввода длины имени и расширения, в то
    время как реально установки допускают использование трёхзначных значений;
    Также метка 'LFN' заменена на 'NAME' в OS/2 версии
[-] Не работало разворачивание/сворачивание ветвей в панели дерева мышью
[*] В Win32 версии добавлена возможность использовать альтернативную
    комбинацию клавиш Alt-Home для вызова контекстного меню для данного типа
    файла, так как традиционную для DN комбинацию Alt-Enter в Windows XP
    невозможно использовать для этих целей
[-] Исправлены падения Win32 версии при просмотре архивов с длинными именами
    файлов
[-] Существенно (до десятков раз) увеличена скорость вхождения в ZIP-архивы
    (кроме неполных); в случае, если архив неполный - выдаётся  предупреждение
    о необходимости его восстановления и производится считывание старым
    методом
[*] Изменения в украинских ресурсах в соответствии с изменениями, внесёнными
    другими авторами


Max Vasilyev:

[!] в архиваторы добавлена поддержка GZIP
[-] исправлены ошибки применения dn2-10b3-archivers_optimization.patch
[+] добавлено чтение RAR 3.0 DOS-SFX
[*] улучшена работа и распознание некоторых архивов


Kirill Vodonosov:

[+] Добавлена возможность экпорта электронной таблицы в форматы
    Comma Seperated Value (CSV), dBase (DBF) и Excel (XLS)
[+] Добавлена возможность импорта электронной таблицы из формата
    Comma Seperated Value (CSV) и dBase III (DBF).
[*] Системная функция установки позиции курсора не вызывается если координаты
    курсора не изменяются. При этом повышается скорость отрисовки панелей,
    например при быстром поиске
[*] При инициализации DN в процедуре InitVideo запоминается позиция курсора,
    при вызове внешней программы в DoneVideo она восстанавливается
[-] Исправлено исчезновение курсора при перемещении в окне редактора


Eugeny Zvyagintzev:

[-] Исправлены падения при переполнении во время вычисления значения WKZ
    ячейки
[*] Операця Перейти К Ячейке при просмотре WKZ файлов теперь выполняется
    более корректно
[-] Исправлены падения во время загрузки таблицы в WKZ просмотре по
    нажатию клавиши F3.
[*] Введена проверка на существование файла перед чтением файла в буфер
[*] Теперь ДН будет показывать сообщение об ошибке во время перемещения файла
    в самого себя
[*] Теперь ДН более корректно будет выполнять операцию изменения размеров
    файловых панелей


   Версия 1.51.10b5
  ---------------------------------------------------------------------

Aleksej Kozlov:

[!] При работе в Win9x теперь увеличивается приоритет ДН-а, вследствии чего
    торможение при работе в Win9x заметно уменьшается; в других системах
    приоритет не изменяется (директива компилятора WIN95_HIGHPRIORITY)
[-] [b4.13] При копировании (или перемещении) нескольких файлов в один
    возникал диалог с запросом действия - создать новый каталог или склеить
    все файлы в один; после ответа "создать каталог" каталог действительно
    создавался, но файлы туда не копировались (не перемещались)
[-] [b4.13] Глюки с ActiveDir и CurrentDirectory
    примеры проявления:
     - открываю файл на редактирование, выхожу из ДН-а (desktop сохраняется),
       снова запускаю ДН, жму Esc и в этот момент каталог в панели изменяется
       на текущий, а курсор перескакивает на соседнюю панель
     - запускаю поиск файлов, когда возникает панель поиска, жму два раза
       Tab, текущим каталогом оказывается каталог соседней панели, жму Enter
       на "..", отображаемый в панели каталог восстановился, а текущий
       каталог - по прежнему каталог соседней панели
[-] При изменении размеров панели (по Alt-Left, Alt-Right, или мышью) ДН
    падал, когда размер уменьшался до длины строки, отображающей количество
    свободного места на диске
[-] Исправлен баг при работе с описаниями. Самое заметное проявление:
    при изменении регистра группы файлов (Ctrl-Alt-F6) в каталоге без
    описаний выскакивала ошибка при переименовании второго файла (хотя
    сам файл успешно переименовывался)
[*] Теперь при изменении регистра группы файлов (Ctrl-Alt-F6) не
    переименовываются вхолостую те файлы, которые уже имеют надлежащее имя
[+] Под OS/2 пытаемся определить тип вызываемой программы, чтобы
    GUI-программу вызывать без ожидания завершения
[*] Теперь режим показа логических имён (атрибут .LONGNAME в OS/2) в панели
    запоминается в desktop-файле
[*] Теперь при копировании (или перемещении) на устройство не делаются
    попытки сохранить расширенные атрибуты
[*] Раньше при переименовании одного или нескольких файлов (но без каталогов)
    на устройство осуществлялась попытка "честного" переименования (т.е.
    устройство рассматривалось как файл на том же диске), в результате чего
    возникала ошибка; теперь в этом случае вместо переименования используется
    перемещение (т.е. копирование с последующим удалением исходного файла)
[-] Раньше нельзя было остановить затянувшийся обратный поиск в просмотрщике
[*] Уменьшено торможение при поиске в просмотрщике и поиске файлов по Alt-F7
    (тест: файл 650М, время поиска было 11:42, стало 1:32)
[-] В некоторых случаях происходили падения при работе с файловыми масками
    (например, при запуске по расширению, если в dn.ext есть строки,
    содержащие сразу много расширений)
[-] При выполнении команды cd с абсолютным путём, если имя диска задано
    буквой в нижнем регистре, появлялось сообщение "-1 байт свободно"
[+] Теперь в редакторе при нажатии Alt-Left производится сдвиг блока влево
    (UnIndent), при нажатии Alt-Right - сдвиг блока вправо (Indent)
[-] Исправлены ошибки при обработке исключений (не показывалось Source
    Location при некоторых наборах директив компилятора); возвращена
    утратившаяся возможность компиляции совместно с модулем SysUtils
    (и, соответственно, использования try ... except)
[*] При компиляции ДН-а из исходников теперь можно посредством директивы
    компилятора ARVID определять, подключать ли модули для работы с ARVID-ом
[*] Изменения во взаимодействии с плагинами
[*] Раньше при копировании имени файла в командную строку по Ctrl-Enter
    не добавлялся необходимый разделительный пробел, если имя файла было
    заключено в кавычки
[*] Немного подправлены ресурсы


Alexey Korop:

[-] [b4.13] Security Attributes в WinNT копировались всегда, независимо от
    соответствующего крестика
[-] DN падал в редакторе, если при включенной защите файла
    редактировать файл ReadOnly, нажать F2, на запрос о перезаписи
    ответить "Отмена" и опять нажать F2
[*] Сортировка в редакторе теперь не переставляет строки с равными ключами
[*] Теперь в Win32 через системный буфер нормально копируются и русские
    буквы, и псевдографика, и под Win9x, и под WinNT
[*] теперь DN Win32 умеет работать с именами файлов в кодировке OEM
    (SetFileApisToOem), в связи с чем ini-переменная RecodeCyrillicNames
    по умолчанию равна 0. Если она равна 1, то работа идет как раньше -
    с перекодировкой через ANSI
[+] Под виндой пытаемся определить тип вызываемой программы, чтобы
    GUI-программу вызывать без ожидания завершения
[-] При ошибке чтения CD-ROM выдавалось сообщение об ошибке устройства A:
[*] Устранены мелкие ошибки в показе информации в подвале файловой панели,
    добавлены в настройки панели два новых флажка: 'Описание внизу' (вместо
    ini-переменной DescriptionsInBottom) и 'Длинное имя внизу' (вместо ini-
    переменной ShowLongName; не путать с ini-переменной LFNinBottom!). При
    этом показ длинного имени распространён и на OS/2-версию
[-] Были глюки, вплоть до падения DN, если задан некорректный
    временный каталог
[-] Исключена глюкофича автозаписи временного каталога в dn.cfg
[*] Разные мелкие исправления
[*] Немного подправлены ресурсы


Max Vasilyev:

[*] Различные улучшения и исправления в обработке архивов


   Версия 1.51.10b4.13
  ---------------------------------------------------------------------

Aleksej Kozlov:

[!] Поддержка Security Attributes в WinNT:
    - крестик "копировать права доступа" в диалоге копирования/перемещения
    - при перезаписи редактируемого файла атрибуты сохраняются
[!] Попытка бороться с виндозной глюкофичей: запоминается текущий каталог не
    для всех дисков, а только для текущего диска, что приводит к различным
    неприятностям. Чтобы это пофиксить, берём на себя сохранение текущих
    путей для каждого диска
[!] Чистка исходников: ликвидированы ненужные модули DiskTool, ExtraMem;
    все (временно?) неиспользуемые модули переложены в исходниках в
    подкаталог Stored
[*] Теперь во время показа "экрана Дос" курсор не мигает
[-] Раньше в Win32-версии файл, в названии которого содержатся строчные
    буквы, мог попадать в историю редактирования несколько раз
[*] Теперь RCP выбирает, какой конфигурационный файл использовать,
    по следующему принципу:
     - если в командной строке O или OS2 - RCPVPO.INI
     - если в командной строке W или W32 - RCPVPW.INI
     - если командная строка пуста - RCPVPO.INI или RCPVPW.INI
       в зависимости от системы, для которой скомпилирован RCP.EXE}
[*] Окончательно вычищена загрузка VPKBDW32.DLL
[*] В модуле VpSysW32 убраны вызовы InitialiseKeyboardHandler из всех
    мест, кроме InitialiseConsole, вызов которой происходит при
    инициализации модуля (это должно приводить к некоторому ускорению
    работы Навигатора под Win9x)
[*] Раньше установка позиции курсора происходила в отдельной нитке
    (модуль VpSysW32), теперь в эту же нитку добавлено ещё и изменение
    вида курсора (SetCurType, GetCurType); идея такая: после запроса
    на изменение ждём 0.1 секунды перед тем, как на самом деле
    изменить вид курсора, а если за это время произойдёт ещё один
    запрос на изменение - старый запрос игнорируем (это должно приводить
    к уменьшению мерцания курсора под Win9x)
[-] При копировании со включённым параметром "переименовывать в логические
    имена" в случае нехватки места не помещающиеся файлы пропускались без
    запроса подтверждения у пользователя
[-] Редактор переменных окружения не работал в виндовой плагинной версии
[*] Немного подправлены ресурсы


Alexey Korop:

[*] Устранены последние ссылки на модуль CRT
[+] Введена обработка кнопки закрытия окна и Ctrl-Break
[+] Теперь полоса дисков обновляется при вызове диалога смены диска
    (Alt-F1, Alt-F2)
[*] Подправлено размещение элементов в диалоге системных установок
[-] DN иногда падал при DescriptionInBottom=1
[*] Теперь DescriptionInBottom не зависит от показа свободного места
[-] Приведен в порядок показ и прятание курсора командной строки
[*] Теперь по Ctrl-PgDn входим в архивы, а также в каталоги на панели поиска
[-] Восстановлено съехавшее управление мышью в нижней рамке редактора
[-] Были ошибки при копировании или перемещении одиночного файла без
    расширения (например, при перемещении мышью)
[-] В Win32-версии при распаковке из панели архива, если архиватор
    запрашивал ввод (например, подтверждение на перезапись файла),
    то ввести с клавиатуры ничего не удавалось. Баг проявлялся,
    например, с консольным RAR
[-] Редактор при выполнении 'Replace all' с подтверждением после 'Cancel'
    не выдавал сообщения о числе сделанных замен
[-] При создании каталога и любом удалении на защищенной дискете
    отсутствовала или не отрабатывалась кнопка 'Повторить'


Kirill Vodonosov:

[-] Исправлена ошибка в функции VpSysW32.SysPeekKey


Pawel Ziemian:

[-] После запyска без INI-файла создался новый, но он не содеpжал ни
    одного паpаметpа из тех, что типа String


Oleg Antoshkiv:

[*] Теперь при подсветке строка считается комментарием, если ключевые слова
    описанные в CommentStart не только стоят в начале строки, но и в том
    случае, если они являются первыми непробельными символами в строке
    (пробельными считаются символы #32 и #9)
NB: не исправлено в ассемблерном варианте
[+] Добавлены новые горячие клавиши в вырезалку экрана (screen grabber):
     - Shift-End  - расширить выделение до правого края экрана
     - Shift-Home - расширить выделение до левого края экрана
     - Shift-PgUp - расширить выделение до верхнего края экрана
     - Shift-PgDn - расширить выделение до нижнего края экрана


   Версия 1.51.10b4.10
  ---------------------------------------------------------------------

Aleksej Kozlov:

[!] Поддержка плагинов типа EventCatcher
[!] Выкидывание мусора из исходников (выкинут модуль SBlocks)
[-] Устранены некоторые утечки памяти
[+] Теперь ДН умеет по команде cd нормально переходить не только на
    локальные диски, но и на сетевые ресурсы (\\сервер\каталог)
[*] Теперь при поиске в просмотрщике выводится полоска с процентами и,
    соответственно, нажав Esc, можно остановить поиск
[-] Раньше в случае неудачного поиска в редакторе "с начала текста"
    курсор устанавливался в начало файла
[-] Раньше в случае неудачного поиска в редакторе "с позиции курсора"
    подсвечивались символы перед курсором
[*] DLL-ка библиотеки DnPmApiL при компиляции плагинской версии теперь
    уменьшилась в размерах
[-] Раньше при копировании имён файлов в буфер (по Ctrl-Alt-Ins)
    длина результирующей строки была ограничена 255 символами
[*] Теперь числовые коды ошибок (RC) добавляются к сообщению об
    ошибке только если ДН компилируется с директивой SHOWRC
[-] Раньше "отступ при забое" глючил на строках с номерами более 255
[-] Раньше при создании файла DN.SPF не убиралось окошко "подождите"
    (сообщение об успешном создании DN.SPF оказывалось под ним)
[-] Раньше в windows-версии при копировании в системный буфер
    псевдографика превращалась в нечто непотребное
[*] При копировании имени файла в командную строку или в буфер
    к имени без расширения добавлялась точка на конце
[*] К именам файлов, открываемых через диалог "открыть файл" с масками типа
    *.* добавлялась точка на конце, если имя оказывалось без расширения
[*] Теперь при выполнении в ДН-е командной строки устанавливается
    соответствующий заголовок окна
[-] Раньше ДН падал при нажатии в редакторе Ctrl-Left в пустой строке
[-] Раньше ДН падал при использовании в редакторе Ctrl-Left и Ctrl-Right
    в случае перескока через очень большое количество пустых строк
[-] В Win32-версии метка диска отображалась в кодировке Ansi


Alexey Korop:

[-] Под Win32 при создании каталога или файла, путь к которому содержит
    русские буквы, создавался новый путь с крязозябрами вместо русских букв
[-] Восстановлено съехавшее управление мышью в нижней рамке редактора
[-] При перемещении по полосе дисков (Ctrl-Left, Ctrl-Right) под Win32
    по дороге открывались все диски
[*] Теперь история не записывается при завершении DN (она пишется по ходу
    дела)
[-] При поиске в Hex-режиме выделялся не только результат поиска,
    но и все, что выше
[*] Теперь при запуске в OS/2 окне курсор мыши не сдвигается
[-] Под WinNT не работал Ctrl-Shift-Enter
[-] Под Win9x странно работал Shift-Tab
[-] Нельзя было выполнить exe-файл с именем, содержащим пробел
[*] Теперь под OS/2 для version, tvhc и rcp не требуется dnpmapil.dll
[*] Для кроссплатформенной компиляции добавлены необязательные параметры
    комстроки утилит Version и Rcp. Второй параметр Version позволет задать
    целевую платформу (OS2 или W32), отличную от текущей. Для Rcp первый
    параметр позволяет задать суффикс ini-файла, а параметры от второго и
    до конца позволяют определить define-символы, в том числе, обязательно
    надо определить символ целевой платформы.
[*] Скрипт компиляции переработан с учетом кроссплатформенности и возможности
    собрать обычную и плагинную версию. Теперь имеется 4 запускающих скрипта
    (скрипт _dnc напрямую вызывать не следует):
      _dnco Для компиляции под OS/2 для OS/2
      _dncw Для компиляции под Win32 для Win32
      _dncow Для компиляции под OS/2 для Win32
      _dncwo Для компиляции под Win32 для OS/2
    Для компиляции плагинной версии нужно вызвать скрипт с параметром P
[*] В конце идентификации плагинной версии указывается "/Plugin"
[-] Калькулятор давал ошибку на выражениях вроде '$1E+1'
[-] В диалоге копирования тильда в имени исходного файла превращалась в
    цветовое выделение


Max Vasilyev:

[-] Подправлена обработка больших (распакованное содержимое больше 2G)
    архивов


Kirill Vodonosov:

[-] Исправлены ошибки в ассемблерных процедурах выделения синтаксиса
[-] Неправильно считывалась информация о полях, из-за чего не отображались
    dbf-файлы, в которых нет записей, или которые имеют одну запись с
    размером < 32 байтов
[-] Исправлено отображение и редактирование длинных (более 255 символов)
    полей dBase файлов. Теперь программа позволяет отредактировать первые
    252 символа длинного поля
NB: Желательно сделать редактирования всего поля, а не первых 252 символов.
    InputBox этого не позволяет
[-] Исправлено отображение заголовка длинных полей (раньше наименование
    такого поля не было видно)


Pawel Ziemian:

[!] Base API to develop regular expressions under Dos Navigator


   Версия 1.51.10b3
  ---------------------------------------------------------------------

Aleksej Kozlov:

[!] Теперь DN/2 умеет устанавливать заголовок и значок окна
[+] Изменения кода, связанные с внедрением плагинов
[+] Тетрис теперь может компилироваться в плагин типа EventCatcher
[*] Теперь данные тетриса записываются в файл TETRIS.CFG (вместо DN.TET)
[-] Ликвидировано много глюков в калькуляторе
[*] Раньше по Ctrl-W не удавалось открыть корневой каталог диска
[*] Теперь при повторных нажатиях на Ctrl-W не открываются новые
    окна с тем же каталогом, а либо ничего не происходит (FS),
    либо активизируется ранее открытое окон с каталогом (VIO)
[+] Теперь открытие каталога по Ctrl-W работает и в windows-версии
[*] Небольшое исправление работы с полоской дисков
[*] Параметр AutoRefreshDriveLine перенесён из секции Interface
    конфига в более подходящую секцию FilePanels
[+] В секцию конфига FilePanels добавлен конфигурационный параметр
    QuickSearchType, принимающий значения 0 или 1. При установке в 0
    используется "новый" принцип быстрого поиска (как в b2, т.е. точка
    рассматривается как обычный символ), при установке в 1 - "старый"
    (т.е. нажатие точки рассматривается как переход к поиску расширения;
    этот метод поиска для длинных имён некорректный, но зато удобный ;)
[*] Раньше при выходе из режима быстрого поиска в некоторых случаях
    строка с маской поиска не убиралась с экрана
[-] Раньше текст, копируемый в буфер, показывался в окне Clipboard-а
    только до первой пустой строки
[-] Раньше при показе Clipboard-а в случае включённой установки
    "текстовый буфер системы" текст дублировался
[*] Несколько изменён вид статусной строчки в редакторе:
    изменены размеры полей с учётом возможности длинных строк;
    добавлен вывод hex-кода символа
[-] Раньше при применении в просмотрщике одновременно и фильтра, и
    перекодировочной таблицы, фильтр применялся перед таблицей, что
    приводило к изображению отфильтрованных символов не символами #250,
    а буквами "ъъъ" (Win) и "ЗЗЗ" (Koi)
[-] Раньше если при записи файла в редакторе кончалось место на диске, то
    DN делал вид, что файл записался, а сам молча его портил
[*] Поправлена работа с файлами при открытии по Shift-F4
[-] Раньше ДН вылетал при "сдвиге блока влево" в редакторе
[-] Раньше ДН вылетал при "открытии файла под курсором" в редакторе
[-] Раньше ДН вылетал при вставке даты (времени) в редакторе в строку,
    состоящую из одних пробелов
[-] Раньше после выхода из ДН-а при открытом Clipboard-е, при следующем
    запуске ДН падал
[-] Раньше после выхода из ДН-а при открытом SmartPad-е, при нажатии
    Alt-Q (при следующем запуске) открывалось второе окно SmartPad-а
[*] Теперь при перезапуске ДН-а с открытым редактором сохраняются значения:
    - режим вставки/замены
    - режим рисования линий
    - положение курсора не только в редактируемом файле, но и в окне
    - выделенный блок
    - перевод строки CrLf/Lf/Cr
    - кодировка DOS/WIN/KOI
[*] Теперь определение того, соответствует ли какому-либо устройству
    (prn, com1, ...) имя файла, в который происходит копирование,
    осуществляется не по "чёрному списку", как раньше, а путём запроса
    к системе
[*] Раньше в случае возникновения ошибки (например, дискета не вставлена)
    после нажатия в выскочившем окне кнопки "отмена" прекращалась реакция
    на клавиатуру до тех пор, пока не будет нажата кнопка мыши
[*] Почищено и улучшено много кода (выкинут модуль SysUtils, почти выкинут
    модуль Crt, улучшены библиотека DnPmApiL и модуль Dn2PmApi, выловлены
    некоторые утечки памяти, ...)
[*] Теперь при ожидании нажатия клавиши в случае Fatal Error
    цивилизованно отдаём системе слайсы ;) , а после нажатия
    вычищаем буфер клавиатуры и придаём курсору нормальный вид


Alexey Korop:

[*] В версии для OS/2 в неактивной оконной сессии DN реагировал на Ctrl,
    Shift, Alt
[-] Неправильно работал выбор нескольких расширений для фильтра (Alt-del)
[-] Вставка из системного буфера обмена под OS/2 иногда не работала.
[-] В просмотре dbf не работал поиск в других кодировках, кроме ДОС
[-] При повторном открытии электронной таблицы неправильно восстанавливалась
    позиция
[*] Теперь в windows-версии русский текст в заголовке окна отображается
    правильно и под Win9x, и под WinNT
[-] под Win9x при нажатом CapsLock не работал Esc
[-] В оконном режиме при числе строк, отличном от 25, курсор мог
    изображаться неправильно или не отображаться вообще
[*] Теперь vpkbdw32.dll не используется, даже если он есть
[*] Улучшена диагностика ошибок чтения при копировании
[*] Добавлен файл errcodes.w32 с расшифровкой кодов ошибок Win32


   Версия 1.51.10b2
  ---------------------------------------------------------------------
[!] Добавлена нормальная поддержка длинных строк в редакторе (Aleksej Kozlov);
[-] Раньше при записи файлов в редакторе с включённой "оптимизацией пробелов"
    пробелы в последней строке не оптимизировались (Aleksej Kozlov);
[*] Перелопачено много кода на предмет совместимости с AnsiString,
    добавлены некоторые дебаговые возможности (Aleksej Kozlov);
[-] Раньше при переносе каталога на другой диск в случае неуспешного
    окончания операции (Esc нажали, или место кончилось) не перечитывалось
    содержимое тех каталогов, которые не смогли скопироваться. Наиболее
    явное внешнее проявление - после того, как половина каталога перенеслась
    на другой диск, отображаемый размер свободного места на исходном диске не
    увеличивался (Aleksej Kozlov);
[+] В ini-файл добавлен параметр AutoRefreshDriveLine; если его включить, то
    каждые 3 секунды происходит обновление полоски дисков (Aleksej Kozlov);
[*] Раньше при выборе диска по Alt-F1 и Alt-F2 диски *: (временная панель) и
    1: .. 9: (пути быстрого доступа) показывались смещёнными на символ вправо
    (Aleksej Kozlov);
[*] В OS/2 версии в оконном режиме устранена рекация на клавиши
    Alt, Shift, Ctrl, когда окно неактивно (AK155: dnApp, IsBGWin);
[*] Добавлен диалог настройки работы мыши; Настройка скорости мыши пока не
    работает, но опции "Поменять Л и П кнопки" ("Reverse buttons") и
    "Стандартный куpсор" ("Standard cursor") уже работают;
[-] Режим сортировки для нового файлменеджера реально оказывался предыдущим
    по отношению к тому, который указан в настройках нового файлменеджера по
    умолчанию;
[*] Число строк в UU-кодировщике теперь можно задавать пятизначным числом;
[-] Раньше если в UU-кодировщике задать очень большое число строк в секции
    (например, 9999), на самом деле делалось отфонарное число строк (Aleksej
    Kozlov);
[-] Запрос на перезапись фала при UU-кодировании появлялся дважды (Aleksej Kozlov);
[-] При UU-раскодировании не выставлялось время модификации файла (Aleksej Kozlov);
[-] В диалог "Установки колонок" (Columns Setup), вызываемый по Alt-R в
    файловой панели при русских ресурсах и по Alt-K при английских не были
    добавлены чекбоксы для установки показа колонок с датой и временем
    создания и последнего доступа файлов, что приводио к неправильной работе
    этих диалогов;
[+] Появился редактор переменных окружения (спасибо Денису Смирнову
    (Necromancer) за подсказку, как это сделать); пока остаётся ограничение
    в 255 символов на длину значения редактируемых переменных;
[*] Теперь при инкрементальном поиске файла маска поиска показывается на
    разделительной линии внизу файловых панелей, если показ числа выделенных
    файлов отдельной строкой выключен;
[-] Раньше тип командной строки, выбранный по Alt-/ влиял только на запуск
    программ непосредственно из файловой панели, но не влиял не запуск
    программ из командной строки;
[*] Ключ DriveInfoType в dn.ini перенесён из секции [Interface] в секцию
    [SetupStorage];
[+] Теперь если в настройках колонок для имени файла отводится ширина 250 и
    более символов (реально поддерживается до 252), то колонка с именами
    файлов теперь показывается не слева, а справа от колонок с размером и
    всеми видами даты и времени;
[+] В диалоге "Системные установки" (System Setup) введены опции "Буфер
    копирования" (Copy buffer limit) и "Архиватор по умолчанию" (Force default
    archiver), дублирующие ключи CopyLimit и ForceDefaultArchiver файла dn.ini ;
[*] Изменена логика инкрементального поиска файла в панелях: теперь точка
    обрабатывается как обычный символ, никаких масок не создаётся, а набранная
    часть имени просто сравнивается с таким же количеством символов от начала
    в имени файла;
[+] В ini-файл добавлен параметр AutoRefreshDriveLine; если его включить, то
    каждые 3 секунды происходит обновление полоски дисков (Aleksej Kozlov);
[*] Раньше при выборе диска по Alt-F1 и Alt-F2 диски *: (временная панель) и
    1: .. 9: (пути быстрого доступа) показывались смещёнными на символ вправо
    (Aleksej Kozlov);
[*] В OS/2 версии в оконном режиме устранена рекация на клавиши
    Alt, Shift, Ctrl, когда окно неактивно (Alexey Korop);
[*] Файлы с атрибутами Скрытый и Системный одновременно отмечаются символом,
    отличным от символов, используемых для файлов с атрибутами Скрытый и
    Системный по отдельности (Pavel Anufrikov)
[-] Наличие двух символов '*' в маске приемника вызывало некорректную работу
    операций копирования, перемещения и переименования (Pavel Anufrikov)

[-] Исправлена перезапись существующих файлов в Win32 версии;
[-] В Win32 версии исправлено переименование файлов с кириллическими именами;
[*] В Win32 версии при запуске исполнимого файла из файловой панели нажатием
    клавиши Enter в историю комманд теперь попадает длинное имя файла;
[-] В Win32 версии под Win NT невозможно было вызвать более одного DN
    (Alexey Korop);


   Версия 1.51.10b1
  ---------------------------------------------------------------------
[-] Режим сортировки "Не сортировать" (Unsorted) теперь действительно таковым
    является;
[*] Теперь элемент ".." нельзя убрать из файловой панели по Ctrl-Del ;
[-] Исправлена ошибка, приводившая к тормозам при включённой отдаче слайсов
    (в частности, при операциях перетаскивания мышью);
[+] Во вьюере появился всторенный дизассемблер, включается опцией
    "[ ] Дизассемблер" (DisAsm) в установках pедактоpа/пpосмотpа;
[*] В настройках текущей панели (Alt-S) появилась опция "[ ] Исполняемые перед
    архивами" (Exe before archives), аналогичная соответствующей опции в
    установках по умолчанию для панелей;
[+] В файловых панелях, панелях поиска, ветви и временной теперь могут
    показываться дата и время создания, а также дата и время последнего
    доступа к файлам, если файловая система поддерживает соответствующую
    информацию о файле; добавлены соответствующие опции в настройки колонок;
[+] Добавлены режимы сортировки файлов по времени создания и времени
    последнего доступа;
[*] теперь ширину, отводимую для имени и расширения файла в настройках колонок
    можно задавать трёхзначным числом (до 253); если для имени задан 0, то
    отводится 253 символа;
[*] сохранение каталогоа быстрого доступа теперь дублируется в dn.ini;
[-] при сброшенной опции "[ ] Восстанавливать видеорежим" (Restore screen
    mode) видеорежим после запуска внешних программ всё равно
    восстанавливался;
[+] теперь в колонке описаний показываются все (до исчерпания лимита в 255
    символов) строки многострочного описания, разделённые символами #20;
[-] попытка скопировать/переименовать каталог в его же собственное имя, но с
    точкой на конце приводила к рекурсивному копированию каталога в самого
    себя до исчерпания лимита максимально доступной длины пути;
[+] полностью переписан на более быстрый алгоритм считывания файла описаний
    (Alexey Korop); в частности, теперь считываются только строки, не
    содержащие пробелов вначале, остальные считаются элементами многострочных
    описаний;
[-] редактор падал при сортировке блоков;
[*] теперь при выключенной настройке файлменеджера "[ ] Всегда копировать
    описания" (Always copy descriptions) и выключенном показе описаний в
    панелях чекбокс "Копировать описания" в диалоге копирования/переименования
    файлов становится недоступен во избежание неправильного копирования
    описаний;
[-] фильтр файловой панели реально не работал с масками с расширением длиннее
    трёх символов, хотя они и отображались в окне фильтра;
[*] введён режим "Сравнить регистр" (Compare case) при сравнении двух
    каталогов (в Win32 версии недоступен, когда каталоги сравниваются по
    коротким именам);
[*] теперь при сортировке файлов по размеру, времени, описанию и группе
    сортировка второго порядка по имени осуществляется в Win32 версии по
    длинным или коротким именам в зависимости от того, какой тип имён сейчас
    показывается в панели;
[*] сравнение каталогов в Win32 версии осуществляется по длинным или коротким
    именам в зависимости от того, какой тип имён сейчас показывается в панели;
[+] Добавлен режим сортировки файлов в панелях по описанию;
[+] Теперь в строке имформации о файле в нижней части файловых панелей
    показываются время создания и время последней модификации файла в случае,
    если информация о них хранится файловой системой; чтобы увидеть их в
    80-колоночном режиме, необходимо распахнуть файловую панель на весь экран
    по Ctrl-Alt-Z;
[*] При нажатии комбинации клавиш Ctrl-Ins в файловой панели в буфер
    копировалось имя теущего файла (или выделенных файлов) с полным путём;
    теперь копируется только имя, а имя с полным путём копируется при нажатии
    Shift-Ctrl-Ins; действительно для всех типов панелей;
[*] Косметические изменения монохромной и чёрно-белой палитр по-умолчанию,
    которые фактически были хаотической смесью чёрно-белых и случайных цветов;
[*] Если в каталоге на HPFS-разделе имелись файлы с кириллическими именами,
    то после смены основной кодовой страницы в системе при определённых
    неудачных комбинациях старой и новой CP такие каталоги становились
    "смертельными" для OS/2 версии DN/2 - он подвисал при любой попытке
    считать такой каталог. Теперь считывание такого каталога останавливается
    на первом "неправильном" файле и выдаётся сообщение: "Ошибка файловой
    системы, связанная с кодовой страницей" ("Codepage-related file system
    error");
[*] Косметические изменения в отрисовке дерева: имена каталогов теперь не
    оторочены нулевыми символами (которые видны зачастую в виде мерзких мелких
    точечек или ещё чего-нибудь похуже), все каталоги одного уровня теперь
    показываются выровнянными по одной вертикальной линии вне зависимости от
    факта наличия в них подкаталогов;
[-] Если в одной из панелей файдменеджера было открыто дерево каталогов, то
    если после попытки смены диска в противоположной панели прервать
    считывание дерева для нового диска, нажав ESC, то DN/2 падал;
[-] Раньше регистронезависимый поиск по всем кодовым страницам был на
    самом деле регистронезависимым только для 866 страницы (Aleksej Kozlov);
[-] Поиск в редакторе по всем кодовым страницам находил не все
    перекодированные вхождения строки, если стояла кодировка документа WIN
    или KOI (Aleksej Kozlov);
[-] Исправлена встроенная таблица WIN-1251 кодировки на предмет правильного
    расположения букв ЄєЇїЎў (Aleksej Kozlov);
[-] При копировании файла под другим именем в собственный каталог описание
    исходного файла удалялось;
[*] Теперь DN/2 нормально работает с описаниями файлов, содержащих в именах
    пробелы; имена таких файлов помещаются в файлы описаний заключёнными в
    кавычки;
[*] Слегка изменён смысл комбинации клавиш Ctrl-Y - теперь она служит для
    переключения между текущим (а не только превым, как раньше) и вторым
    (полным) режимами колонок файловых панелей;
[-] Восстановлена работа команды Print в макросах, заданных в файле dn.hgl,
    которая была ошибочно убрана в предыдущих версиях;
[*] При попытке копирования файла с именем, не соответствующим 8.3 на FAT
    теперь выдаётся сообщение, предлагающее изменить имя файла, пропустить
    его или остановить копирование файлов;
[-] При попытке создания файла с недопустимым набором символов в имени раньше
    выдавалось сообщение, что длинные имена не поддерживаются на данном диске,
    причём независимо от того, соответствовало ли это действительности;
[+] Появился новый режим отображения файлов в панели: вместо физического имени
    файла показывается его логическое имя (атрибут .LONGNAME ); режим
    включается/выключается клавиатурной комбинацией Ctrl-N , не запоминается
    при выходе из программы и не включается какой-либо настройкой в качестве
    постоянно действующего; показ логического имени вместо физического никак
    не влияет на работу программы с файлом в остальном (вызов внешних утилит,
    копирование и т.п.); в строке информации в нижней части файловой панели
    по-прежнему отображается физическое имя файла;
[*] В оконной сессии в OS/2 версии в редакторе и при быстром переименовывании
    файлов в файловых панелях символ, на которомнаходится курсор
    подсвечивается чёрным фоном, если текущий фон символа серый; это позволяет
    решить проблему невидимого на сером фоне курсора из-за неудачной палитры в
    оконных сессиях по умолчанию;
[-] В видеорежимах с числом колонок или строк бОльшим, чем 80x25 в OS/2 версии
    после первого запуска какой-либо команды из командной строки на
    пользовательском экране оставались следы файловых панелей;
[-] Размер места, занимаемого файлами в каталоге по числу кластеров
    показывался в информационной панели неправильно;
[+] Появилась возможность печатать текст (весь файл или блок) из редактора;
[*] Введены два новых параметра настроек архиватора -
    [x] Список файлов в подкаталогах (List files in subdirs) - включать полный
    список всех файлов, содержащихся в помеченных подкаталогах; когда
    выключено - вместо полного списка подставляются имена каталогов с маской
    \*.* в конце (плюс имена без маски для пустых каталогов); включите эту
    опцию, если архиватор не видит файлов в подкаталогах; выключите эту опцию,
    если файлы в подкаталогах попадают в архив дважды
    [x] Короткая командная строка (Short command line) - длина командной
    строки ограничена 125 символами; рекомендуется для ДОС-версий и не
    рекомендуется для нативных версий архиваторов, не поддерживающих концепцию
    файла-списка; для архиваторов, работающих с файлом-списком несущественен;
    Добавлен соответствующий раздел помощи по установкам архиватора;
[*] В OS/2 версии максимальная длина командной строки при разархивировании
    файлов увеличена с 255 до 1000 символов (ограничение операционки);
[*] Параметры по умолчанию для архиватора LHA в OS/2 версии изменены для
    использования с нативной OS/2 версией;
[-] При разархивировании большого числа помеченных файлов из архива
    архиватором, не поддерживающим работу со списком файлов часть файлов
    оставалась неразархивированной;
[+] Добавлен новый ключ ForceDefaultArchiver файла dn.ini . Может принимать
    строковое значение имени одного из архиваторов (так, как эти имена
    выглядят в диалоге "Архивирование файлов" (Archive Files)). Если задано,
    то архиватором по умолчанию в диалоге "Архивирование файлов" считается
    всегда заданный в этой переменной архиватор (за исключением случаев
    добавления файлов в существующий архив), вне зависимости от того, какой
    архиватор был использован последним до этого;
[+] Теперь имеется возможность устанавливать палитру VGA (опция
    [X] "Установка палитpы VGA" (Force VGA palette) диалога "Процесс загрузки
    и выгрузки" (Startup) и редактор палитры VGA теперь нормально работают в
    полноэкранных сессиях);
[+] По Ctrl-J в файловой панели теперь создаётся программный объект для
    текущего файла (с запросом заголовка), если он является исполнимым и
    теневой объект для других типов файлов;
[+] Добавлен новый ключ командной строки /E , после которого (без пробела)
    можно задать команду командной строки, которая будет выполнена из-под DN/2
    после его старта. Команду необходимо взять в кавычки, если она содержит
    пробелы;
[*] Теперь в оконной VIO-сессии можно устанавливать любой произвольный размер
    окна от 20x10 до 255x254 симоволов. Это можно сделать как в диалоге,
    вызываемом по Shift-F12, так и прописав соотв. видеорежим в
    Системные установки. Во втором случае нужно рассчитать номер видеорежима
    по формуле Columns*256 + Rows, где Columns - количество колонок, а Rows -
    количество строк в консоли. В полноэкранной NONVIO сессии действительны
    только видеорежимы с количеством колонок 40 или 80 и с количеством строк
    25, 30, 43, 50, 60, все остальные - игнорируются. Последний видеорежим
    теперь запоминается отдельно для полноэкранных и оконных сессий в ключах
    NonVIOScreenMode и VIOScreenMode файла dn.ini соответственно;
[*] Скринсэйверы теперь вызываются только в полноэкранном режиме;
[-] После вызова внешнего скринсэйвера портился экран;

[*] Теперь в Win32 версии под Win9x можно использовать резидентный
    руссификатор для DOS (спасибо Петру Воронову (Peter S. Voronov) за
    vpkbdw32.pas;
[-] Теперь работает вызов инкрементального поиска файла в панели по одиночному
    Alt в Win32 версии;
[-] Не работало сравнение каталогов по всем четырём критериям (размер, время,
    атрибуты, содержимое) одновременно в Win32 версии;
[!] Изменён алгоритм считывания альтернативных (коротких) имён файлов при
    считывании каталогов в Win32 версии, что существенно увеличило скорость
    входа в каталоги;
[-] Исправлена серьёзная ошибка в Win32 версии, приводившая к падению DN/2
    под NT по переполнению стека;
[-] Исправлена серьёзная ошибка в Win32 версии, приволившая к зацикливанию
    и выводу бесконечных сообщений об ошибке при копировании каталогов;
[-] Исправлена работа с символами подстановки # и & в Win32 версии;
[*] В Win32 версии теперь возможно использовать комбинации клавиш Ctrl-цифра
    для выбора установок колонок в файловой панели и для перехода к закладкам
    во вьюере/редакторе. В OS/2 версии эти клавиши по-прежнему недоступны по
    независящим от авторов причинам. Во вьюере/редакторе в OS/2 версии теперь
    для перехода к закладкам можно использовать Ctrl-Alt-Schift-цифра;


   Версия 1.51.09a9
  ---------------------------------------------------------------------
[+] Терерь по хоткею Ctrl-W открывается фолдер WPS для текущего каталога,
    если DN запущен в системе, в которой в качестве RUNWORKPLACE
    используется WPS; способность DN работать на системах без PM сохранена;
[*] теперь имена файлов, состоящие только из расширения (т.е. начинающиеся с
    точки и не имеющие других точек) показываются в панелях в колонке
    расширения и правильно сортируются по расширению;
[*] комбинация клавиш Shift-Del в файловой панели теперь может быть
    использована для удаления одиночного файла только когда включена опция
    "[ ] DEL для удаления файлов" ( [ ] DEL erases file(s) ) в Установках
    Менеджера Файлов
[*] опция "Автодочитывание при просмотре" (Autoscroll) в диалоге
    "Системные установки" (System Setup) заменена на опцию "Автодочитывание"
    (Autoscroll) в диалоге "Установки pедактоpа/пpосмотpа"
    (Editor/Viewer Defaults);
[*] в диалог "Системные установки" (System Setup) добавлена опция
    Обрабатывать команду "CD" (Handle "CD" Command), дублирующая ключ
    HandleChDirCommand файла dn.ini ;
[*] в календаре вместо клавиш Up и Down, вызывавших путаницу теперь
    используются Right и Left соответственно;
[-] исправлена работа меню смены видеорежимов;
[-] в dn.ext не обрабатывались маски, содержащие символ подстановки "*" ;
[-] электронная таблица падала при попытке выделения клеток.
[-] при востановлении позиции просмотра электронной таблицы
    не восстанавливались позиции полос прокрутки, в связи с чем
    не работала прокрутка влево и вверх.
[-] в диалогах открытия и сохранения файлов каталоги и файлы с именами в
    верхнем регистре сортировались отдельно перед каталогами и файлами в
    нижнем регистре;
[*] ряд улучшений диалогов открытия и сохранения файлов: файлы теперь
    показываются в листбоксе в нижнем, а каталоги в верхнем регистре, если
    регистр имени не смешанный; имена, не помещающиеся по длине в ширину
    листбокса теперь показываются с символом продолжения имени на конце;
[-] после запуска внешних программ клавиатурная комбинация Ctrl-C начинала
    восприниматься как Ctrl-Break (Aleksej Kozlov); соответственно,
    временный хоткей Ctrl-D ликвидирован;
[*] улучшено определение HA, AIN, ZXZip и не-MZ SFX архивов (применён патч
    от Max Vasilyev);
[-] Если при запуске чего-либо из коммандлайна было открыто окно вьюера,
    после возвращения в DN происходило падение при поиске чего-либо в этом
    окне по F7 или при нажатии в нём Ctrl-PgUp ;
[-] При выключенной опции вьюера/редактора Tab Replace (Замена табуляции) DN
    падал при просмотре любого файла, содержащего символы табуляции;
[-] при просмотре файла в режиме двоичного просмотра/редактирования клавиши
    PgUp и PgDown работали неправильно - вместо движения курсора в окне
    прокручивался весь текст;
[*] при раскодировании UUE-закодированного файла имя раскодированного
    файла теперь не обрезается до 8.3 и не приводится к верхнему регистру;
[-] Команды вида 'x:' (при внутренней обработке ДН-ом), где x - строчная
    буква, приводили к выводу "-1" в строке "... байт свободно" и иногда
    выкидывали в корневой каталог диска (Aleksej Kozlov);
[-] Раньше данные для масок !\!.! для просмотрщиков, редакторов и запуска по
    расширению передавались с искажённым регистром (каталог - в верхнем,
    имя файла - в нижнем регистре, независимо от реального)(Aleksej Kozlov);

[-] исправлена серьёзная ошибка в работе с короткими именами файлов в Win32
    версии;
[-] Исправлена ошибка поиска файлов в Win32 версии;
[+] в Win32 версии введён хоткей Ctrl-N для переключения между режимами
    показа длинных и коротких имён;
[+] введён новый ключ файла DN.INI (действует только на Win32 версию):
    ReadAllSFN . Определяет, надо ли при считывании каталога искать короткие
    имена файлов используя функцию Win32 API для файлов, имеющих имя
    соответствующее стандарту 8.3;


   Версия 1.51.09a8
  ---------------------------------------------------------------------
[!] Теперь работает UU-кодирование. Спасибо Aleksej Kozlov за перевод
    uueinc.asm в uueinc.pas.
[+] в настройках архивов теперь можно отдельно задавать List char для
    паковщика и распаковщика, причём эти параметры теперь строковые
    длиной до 6 символов (необходимо для поддержки ZIP/UNZIP);
[*] при извлечении большого числа файлов из архивов архиваторами,
    не поддерживающими концепцию файла-списка архиватор вызывается несколько
    раз, пока не будут извлечены все помеченные файлы (необходимо из-за
    ограничения в 255 символов для командной строки);
[+] введены два новых ключа файла DN.INI :

    SkipXLatMenu (секция Interface) - когда установлено значение 0, во
    вьюере выбор таблицы перекодировки по Shift-F6 осуществляется из
    удобного меню, когда установлено 1 - из неудобного, но привычного для
    некоторых давних пользователей DN файлового диалога;

    UpperCaseSorting (секция FilePanels) -  сортировать имена файлов
    приведёнными к верхнему (1) или нижнему (0) регистру;

[*] в стандартных диалогах открытия/сохранения файла имя текущего файла
    показывалось в строках статуса два раза - рудимент виндовой
    двухимённости;
[*] добавлен хоткей Ctrl-Alt-F5 для Split/combine files (Разрезать/склеить
    файлы);
[*] KeyMap теперь работает в редакторе;
[-] вторично ликвидированы падения DN/2 по Ctrl-H в пустых каталогах
    (багфикс был случайно потерян где-то между версиями .04 и .07);
[-] пpи попытке изменить регистр только для pасшиpения имени файлов
    по Ctrl-Alt-F6 ничего не пpоисходило;
[-] устранено зацикливание в файлах, ошибочно отдетектированных как архивы
    ha, tar и lha (требует дальнейшего тестирования);
[-] DN/2 падал при попытке вывода сообщения о файле (или каталоге), если
    в имени файла (каталога) были форматные комбинации символов, вроде %f.
[-] Продолжается чистка внутреннего просмотрщика.
[*] Прокрутка стрелкой за конец файла сделана опциональной
    (Настройки - Конфигурация - Редактор/просмотр... - Прокрутка конца файла).
[*] Возвращён ранее отключенный макрос просмотра !%F
[*] Введён диалог выбора склейки или копирвания в новый каталог при
    копировании нескольких файлов в один
[-] При копировании каталога по F5/F6 всегда выскакивало ложное сообщение
     Sharing violation.
[-] В просмотре переход мышью в строке закладок работал не всегда.
[*] В просмотре и редакторе добавлен переход мышью в строке закладок
    на начало файла (символ '<') и на конец файла (символ '>').
[-] В редакторе строка закладок работала со сдвигом на одну позицию.
[-] Применён патч RC1 редактора в части Undo после Save (Max Vasilyev).
[*] При любых манипуляциях с панелями пропадал курсор командной строки.
[*] Возвращён полный формат меню File - View.
[*] При вызове внешних просмотрщиков и при копировании имён каталогов
    и файлов сделано или улучшено добавление кавычек к длинным именам с
    пробелами.


   Версия 1.51.09a7
  ---------------------------------------------------------------------
[-] В текстовом просмотре установка позиции файла (например, в конец)
    приводила к накоплению неосвобождённой памяти.
    (обнаружил  Sergey Kuzmichev)
[-] BackSpace, нажатый в комстроке, приводил к необратимому прекращению
    обработки BackSpace в качестве клавиши выхода из каталога
    (обнаружил  Mihail Gubanov)
[-] В пентиксе никогда не выпадала фигура 'кочерга с длинной ручкой'
    (исправление было задекларировано в пятой альфе, но потерялось).
[-] На FAT32 не удалялся каталог с атрибутом Read Only
    (обнаружил  Maxim A. Vasilyev)
[-] При переносе (F6) пустого каталога с длинным именем на диск, не
    поддерживающий длинных имён, на целевом диске каталог не создавался,
    а на исходном удалялся (обнаружил  Aleksej Kozlov).
[-] В режиме автодочитывания при просмотре иногда происходила
    самопроизвольная установка на конец файла (обнаружил Dima Trufanov)
[-] исправлено ещё несколько мелких ошибок во внутреннем просмотре
[*] слегка изменена работа внутреннего просмотра в конце файла. Теперь
    стрелка вниз и PgDn позволяют вытолкунуть вверх все стрОки, кроме одной.
    Если на экране есть пустые строки, то Ctrl-PgDn (и автодочитывание)
    не сдвигают текст вниз.
[+] Во многие сообщения об ошибках при работе с файлами включена выдача
    кода ошибки, возвращаемого системой ('RC=код'). В DOC\ENGLISH включен
    текстовый файл ERRCODES.OS2 с расшифровками кодов. Русского перевода
    нет. А надо?


   Версия 1.51.09a6
  ---------------------------------------------------------------------
[!] Существенно доработаны просмотр и обработка ошибок. Добавлены
    возможности, полезные в многозадачной среде.
[+] Теперь работают:
    - просмотр файлов .dbf. При этом введена перекодировка и запоминание
    позиции;
[+] история каталогов, просмотра и редактирования сделана общей для всех
    одновременно вызванных DN. Для этого файл DN.HIS записывается при
    каждой записи в историю и перечитывается при каждом выводе списка
    выбора из каждой из этих историй.
[*] изменена логика выбора просмотрщика. Флаг настройки 'Internal View'
    исключён. Просмотрщик выбирается в такой последовательности.
      - по F3: согласно dn.vwr, специальный внутренний (dbf и т.п.),
        текстовый;
      - по Alt-F3: согласно dnalt.vwr, текстовый;
      - по Alt-Shift-F3 (это новая горячая клавиша): безусловно текстовый.
    Для всех видов внутренних просмотрщиков возможно запоминание и
    восстановление позиции (восстановление позиции выполняется только при
    условии, что в истории был запомнена позиция именно такого же
    просмотрщика).
[*] сильно переработан текстовый просмотр. Будем надеяться, что при этом
    исправлено ошибок больше, чем добавлено.
[+] Автодочитывание при текстовом просмотре сделано опциональным (флаг
    'Autoscroll' вместо упразднённого 'Internal View')
[+] в окне истории команд Ctrl-Enter копирует в командную строку
    (как в VC).
[*] тип файловой системы (FAT и т.п.) теперь отображается непосредственно
    так, как об этом сообщет драйвер. В связи с этим появилось отображение
    VFAT и FAT32. (NTFS отображается тоже как VFAT, но по этому поводу
    претензии к автору драйвера VFAT.)
[*] временно исключено отбражение типа диска (жёсткий, сетевой и т.п.),
    так как оно работало не слишком правильно.
[-] приведена в порядок запись истории просмотра и её использование.
[-] при записи на защищённый от записи диск или при удалении заблокированного
    файла выводилось невразумительное сообщение.
[-] при копировании при ошибке чтения не выдавалось никакого сообщения
[-] при просмотре текстового файла попытка повторной смены кодировки
    иногда приводила к трапу.
[-] некорректно отображались .tdr
[-] в калькуляторе не воспринимались числа в экспоненциальной форме
    (исправил Pavel Anufrikov)
[*] Внесены некоторые изменения, накопившиеся в DN OSP в период с
    1.51b8 до 1.6RC.
[-] Имеется ряд других мелких исправлений.
[*] Для сравнения каталогов временно введена горячая клавиша Ctrl-D,
    так как Ctrl-C часто приводит к завершению DN/2.


   Версия 1.51.09a5
  ---------------------------------------------------------------------
[+] Теперь работают:
    - вход по Enter в архивы AIN и UC2;
    - UU-раскодирование.
[+] Для архивов UC2 добавлена работа с версиями заархивированных файлов.
    Соответственно, в настройках архиваторов появился флаг 'Показывать
    все версии'.
[+] При текстовом просмотре команда 'конец файла' (Ctrl-PgUp) показывает
    конец файла по состоянию на момент выполнения этой команды, а не на
    момент открытия файла для просмотра. (спасибо Сергею Кузмичёву).
[+] Автодочитывание растущего файла при текстовом просмотре, если на
    экране виден конец файла.
[+] По 'многочисленным просьбам трудящихся' теперь DN тихо завершается
    по системной команде завершения (без сохранения измененных настроек).
[-] В электронной таблице при модификации ячейки не всегда автоматически
    пересчитывались формулы, ссылающиеся на эту ячейку.
[-] Было невозможно зайти в каталог второго и более уровня внутри архива,
    если на диске есть такие же каталоги более высоких уровней,
    но данного подкаталога нет.
[-] В тетрисе / пентиксе неправильно отрабатывался диалог режимов.
[-] В пентиксе никогда не выпадала фигура 'кочерга с длинной ручкой'.
[-] Если из внутреннего просмотра перекодировать текстовый файл и записать
    его под тем же именем, то файл распухал на всё свободное пространство
    диска (спасибо Сергею Кузмичёву).
[-] DN часто падал при операции 'Показать текстовый буфер'.
[-] не работало запоминание позиции редактирования и просмотра.
[-] При сравнении каталогов считались различными файлы с именами,
    отличающимися только регистром символов.
[-] Имеется ряд других мелких исправлений.


   Версия 1.51.09a4
  ---------------------------------------------------------------------
[+] Добавлена опция "Настройки => Менеджер файлов => Установки для нового
    окна... => [ ] Исполняемые перед архивами" ("Options => File Manager =>
    New Manager defaults... => [ ] Exe before archives"), по умолчанию
    выключена. Когда включена, исполнимые файлы в панели показываются между
    каталогами и архивами, как в ритлабовской версии;
[+] Добавлен показ метки тома в меню смены диска по Alt-F1/Alt-F2
    (опционально);
[+] Добавлена телефонная книжка;
[*] При обращении к неготовому дисковому устройству (дисководу без дискеты
    и т.п.) появлялось окно OS/2 с сообщением о неготовности устройства и
    предложением вернуть код ошибки в программу и т.п.... Исправлено;
[*] Добавлен диалог, сообщающий о неготовности или ошибках дискового
    устройства при обращении к нему;
[*] Имеется ряд косметических исправлений ресурсов;
[*] Теперь работает поиск файла в панели по одиночному нажатию Alt и по
    Caps+символ (к сожалению, пока после него не сбрасывается состояние
    CapsLock); Соответственно, хоткей "Alt-." ликвидирован.
[*] Внесён ряд изменений в алгоритмы распознавания некоторых архивов и
    исправлена ошибка, мешавшая распознаванию SFX-архивов;
[-] Исправлен очень опасный баг, приводивший к возможности удаления файла
    после его просмотра встроенным вьюером и удаления архива после просмотра;
[-] В предыдущей версии DN показывал очень высокую загрузку процессора, близко
    к 100% из-за неэффективной отдачи слайсов. Исправлено, введена новая опция
    "Настройки => Конфигурация => Процесс загрузки/выгрузки... =>
    [X] Всегда отдавать длинные тики (32мс)" ("Options => Configuration =>
    Startup... => [X] Always release long slice (32ms)");
[-] Устранено аварийное завершение программы при закрытии по Esc окна помощи,
    когда DN/2 запущен в оконной сессии;
[-] Исправлена работа функций SUM и MUL в электронной таблице;
[-] Исправлена ошибка распаковщика образов дискет, из-за которой он не
    извлекал файлы с числом букв в имени меньше 8 ;
[-] При попытке удалить пустой каталог выскакивало предупреждение о том, что
    каталог не пустой. Исправлено;
[-] Не работали опции "Настройки => Менеджер файлов => Установки... =>
    [X] Различать клавиши Alt" и "Настройки => Менеджер файлов => Установки...
    => [X] Различать клавиши Ctrl" ("Options => File Manager => Setup... =>
    [X] Alt difference" и "Options => File Manager => Setup... =>
    [X] Ctrl difference"). Исправлено;
[-] После запуска внешних программ и выхода из DN при следующем запуске
    видеорежим устанавливался 80x25 вместо последнего установленного;
    Исправлено;
[-] Имеется ряд других мелких исправлений;


   Версия 1.51.09a3
  ---------------------------------------------------------------------

[!]  В OS/2 версии оптимизированы алгоритмы работы со списком имён файлов, что
     заметно увеличило скорость открытия каталогов в файловой панели;
[+]  Теперь работают:
     - настройка цветов;
     - расщепление/склеивание файлов;
     - распаковка образов дискет;
     - изменение метки тома (только в OS/2 версии);
     - электронная таблица;
     - показ серийного номера диска в информационной панели (только в OS/2 версии);
     - показ файловой системы в информационной панели;
[+]  Добавлена возможность при копировании файлов и каталогов переименовывать
     их в расширенный атрибут .LONGNAME исходных файлов (OS/2 версия);
[*]  Исправлено неперескакивание курсора в меню при нажатии клавиши Up когда
     активным пунктом меню является первый и нажатии клавиши Dn когда
     активным пунктом меню является последний, а также неработа в меню
     клавиши PgDn, когда активным пунктом меню является первый;
[*]  Убраны многие настройки, являвшиеся рудиментом DOS-версии и реально не
     использововшиеся в OS/2 и Win32;
[-]  Исправлена проблема с просмотром внешними вьюерами и обработкой из
     пользовательского меню и по расширениям файлов, содержащих тильду (~) в
     имени;
[-]  Исправлена проблема с переключением текстовых видеорежимов (чёрные
     области в разных местах панелей), спасибо Владимиру Ткаченко;
[-]  Исправлено отображение текущего каталога и суммарно занимаемого
     находящимися в нём файлами пространства в панели информации;
[-]  Имеется ряд других мелких исправлений;

